{"ast":null,"code":"import axios from 'axios';\nimport { USER_MAIN_DATA, USER_ACTIVITY, USER_AVERAGE_SESSIONS, USER_PERFORMANCE } from '../data.js';\nconst API_URL = 'http://localhost:3000/user/';\nlet useMockData = false; // Variable pour contrôler l'utilisation des données mockées\n\n// Exposez une méthode pour basculer l'utilisation des données mockées\nexport const toggleMockDataUsage = () => {\n  useMockData = !useMockData;\n};\n\n// Fonction pour obtenir les données d'un utilisateur\nexport const getUserData = async userId => {\n  if (useMockData) {\n    return USER_MAIN_DATA.find(user => user.id === userId) || {};\n  }\n  try {\n    const response = await axios.get(`${API_URL}${userId}`);\n    console.log(response.data);\n    return response.data;\n  } catch (error) {\n    // Gérer l'erreur ici\n    console.error(\"Erreur lors de la récuparation des données de l'utilisateur!\", error);\n  }\n};\n\n// Fonction pour obtenir les données d'activité d'un utilisateur\nexport const getUserActivity = async userId => {\n  if (useMockData) {\n    return USER_ACTIVITY.find(activity => activity.userId === userId) || {};\n  }\n  try {\n    // Utiliser userId pour construire l'URL\n    const response = await axios.get(`${API_URL}${userId}/activity`);\n    console.log(response.data);\n    return response.data;\n  } catch (error) {\n    console.error(\"Erreur lors de la récupération des données d'activité\", error);\n  }\n};\n\n// Fonction pour obtenir les données de temps de session d'un utilisateur\nexport const getUserAverageSession = async userId => {\n  if (useMockData) {\n    return USER_AVERAGE_SESSIONS.find(session => session.userId === userId) || {};\n  }\n  try {\n    // Utiliser userId pour construire l'URL\n    const response = await axios.get(`${API_URL}${userId}/average-sessions`);\n    console.log(response.data);\n    return response.data;\n  } catch (error) {\n    console.error(\"Erreur lors de la récupération des données de temps de session\", error);\n  }\n};\n\n// Fonction pour obtenir les données de performances d'un utilisateur\nexport const getUserPerformance = async userId => {\n  if (useMockData) {\n    const performance = USER_PERFORMANCE.find(perf => perf.userId === userId);\n    return {\n      data: performance ? performance.data : [],\n      kind: performance ? performance.kind : {}\n    };\n  }\n  try {\n    // Utiliser userId pour construire l'URL\n    const response = await axios.get(`${API_URL}${userId}/performance`);\n    console.log(response.data);\n    return response.data.data;\n  } catch (error) {\n    console.error(\"Erreur lors de la récupération des données de performance\", error);\n  }\n};","map":{"version":3,"names":["axios","USER_MAIN_DATA","USER_ACTIVITY","USER_AVERAGE_SESSIONS","USER_PERFORMANCE","API_URL","useMockData","toggleMockDataUsage","getUserData","userId","find","user","id","response","get","console","log","data","error","getUserActivity","activity","getUserAverageSession","session","getUserPerformance","performance","perf","kind"],"sources":["C:/Users/ghisl/Desktop/p12/dev_tableau_de_bord_avec_react/src/services/apiService.js"],"sourcesContent":["import axios from 'axios';\r\nimport { USER_MAIN_DATA, USER_ACTIVITY, USER_AVERAGE_SESSIONS, USER_PERFORMANCE } from '../data.js';\r\n\r\nconst API_URL = 'http://localhost:3000/user/';\r\nlet useMockData = false; // Variable pour contrôler l'utilisation des données mockées\r\n\r\n// Exposez une méthode pour basculer l'utilisation des données mockées\r\nexport const toggleMockDataUsage = () => {\r\n  useMockData = !useMockData;\r\n};\r\n\r\n// Fonction pour obtenir les données d'un utilisateur\r\nexport const getUserData = async (userId) => {\r\n  if (useMockData) {\r\n    return USER_MAIN_DATA.find(user => user.id === userId) || {};\r\n  }\r\n  try {\r\n    const response = await axios.get(`${API_URL}${userId}`);\r\n    console.log(response.data);\r\n    return response.data;\r\n  } catch (error) {\r\n    // Gérer l'erreur ici\r\n    console.error(\"Erreur lors de la récuparation des données de l'utilisateur!\", error);\r\n  }\r\n};\r\n\r\n// Fonction pour obtenir les données d'activité d'un utilisateur\r\nexport const getUserActivity = async (userId) => {\r\n  if (useMockData) {\r\n    return USER_ACTIVITY.find(activity => activity.userId === userId) || {};\r\n  }\r\n  try {\r\n    // Utiliser userId pour construire l'URL\r\n    const response = await axios.get(`${API_URL}${userId}/activity`);\r\n    console.log(response.data);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error(\"Erreur lors de la récupération des données d'activité\", error);\r\n  }\r\n};\r\n\r\n// Fonction pour obtenir les données de temps de session d'un utilisateur\r\nexport const getUserAverageSession = async (userId) => {\r\n  if (useMockData) {\r\n    return USER_AVERAGE_SESSIONS.find(session => session.userId === userId) || {};\r\n  }\r\n  try {\r\n    // Utiliser userId pour construire l'URL\r\n    const response = await axios.get(`${API_URL}${userId}/average-sessions`);\r\n    console.log(response.data);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error(\"Erreur lors de la récupération des données de temps de session\", error);\r\n  }\r\n};\r\n\r\n// Fonction pour obtenir les données de performances d'un utilisateur\r\nexport const getUserPerformance = async (userId) => {\r\n  if (useMockData) {\r\n    const performance = USER_PERFORMANCE.find(perf => perf.userId === userId);\r\n    return { data: performance ? performance.data : [], kind: performance ? performance.kind : {} };\r\n  }\r\n  try {\r\n    // Utiliser userId pour construire l'URL\r\n    const response = await axios.get(`${API_URL}${userId}/performance`);\r\n    console.log(response.data);\r\n    return response.data.data;\r\n  } catch (error) {\r\n    console.error(\"Erreur lors de la récupération des données de performance\", error);\r\n  }\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}